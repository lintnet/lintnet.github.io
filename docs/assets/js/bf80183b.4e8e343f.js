"use strict";(self.webpackChunklintnet=self.webpackChunklintnet||[]).push([[867],{9082:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>h,toc:()=>c});var i=t(4848),s=t(8453);const r={sidebar_position:100},a="Native functions",h={id:"lint-rule/native-function",title:"Native functions",description:"We don't write the document of each native functions because we have ported too many functions from Go standard library to maintain the document of them.",source:"@site/docs/lint-rule/native-function.md",sourceDirName:"lint-rule",slug:"/lint-rule/native-function",permalink:"/docs/lint-rule/native-function",draft:!1,unlisted:!1,editUrl:"https://github.com/lintnet/lintnet.github.io/edit/main/docs/lint-rule/native-function.md",tags:[],version:"current",sidebarPosition:100,frontMatter:{sidebar_position:100},sidebar:"tutorialSidebar",previous:{title:"Lint rules",permalink:"/docs/lint-rule/"},next:{title:"Configuration",permalink:"/docs/config"}},l={},c=[{value:"Request a new function",id:"request-a-new-function",level:2},{value:"API design",id:"api-design",level:2},{value:"jsonschema.Validate",id:"jsonschemavalidate",level:2},{value:"url.Parse",id:"urlparse",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"native-functions",children:"Native functions"}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["We don't write the document of each native functions because we have ported too many functions from Go standard library to maintain the document of them.\nPlease see GoDoc and ",(0,i.jsx)(n.a,{href:"https://github.com/lintnet/go-jsonnet-native-functions?tab=readme-ov-file#api-design",children:"API design"}),"."]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path/filepath#Base",children:"filepath.Base"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#jsonschemavalidate",children:"jsonschema.Validate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path#Base",children:"path.Base"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path#Clean",children:"path.Clean"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path#Dir",children:"path.Dir"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path#Ext",children:"path.Ext"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path#IsAbs",children:"path.IsAbs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path#Match",children:"path.Match"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/path#Split",children:"path.Split"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/regexp#MatchString",children:"regexp.MatchString"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#Contains",children:"strings.Contains"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#ContainsAny",children:"strings.ContainsAny"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#Count",children:"strings.Count"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#Cut",children:"strings.Cut"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#CutPrefix",children:"strings.CutPrefix"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#CutSuffix",children:"strings.CutSuffix"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#EqualFold",children:"strings.EqualFold"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#Fields",children:"strings.Fields"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#LastIndex",children:"strings.LastIndex"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#LastIndexAny",children:"strings.LastIndexAny"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#Repeat",children:"strings.Repeat"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#Replace",children:"strings.Replace"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#TrimPrefix",children:"strings.TrimPrefix"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/strings#TrimSpace",children:"strings.TrimSpace"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#urlparse",children:"url.Parse"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"request-a-new-function",children:"Request a new function"}),"\n",(0,i.jsx)(n.p,{children:"If you want new functions, please check the discussion."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/lintnet/lintnet/discussions/472",children:"https://github.com/lintnet/lintnet/discussions/472"})}),"\n",(0,i.jsx)(n.h2,{id:"api-design",children:"API design"}),"\n",(0,i.jsxs)(n.p,{children:["Please see ",(0,i.jsx)(n.a,{href:"https://github.com/lintnet/go-jsonnet-native-functions?tab=readme-ov-file#api-design",children:"API design"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"jsonschemavalidate",children:"jsonschema.Validate"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"func(schema, v any) error\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/github.com/santhosh-tekuri/jsonschema/v5#Schema.Validate",children:"https://pkg.go.dev/github.com/santhosh-tekuri/jsonschema/v5#Schema.Validate"})}),"\n",(0,i.jsx)(n.p,{children:"e.g."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsonnet",children:"local schema = import 'main_config_schema.json'; // Import JSON Schema\nlocal validateJSONSchema = std.native('jsonschema.Validate');\nlocal vr = validateJSONSchema(schema, param.config); // Validate param.config with JSON Schema main_config_shema.json\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Validate validates ",(0,i.jsx)(n.code,{children:"v"})," with JSON Schema ",(0,i.jsx)(n.code,{children:"schema"})," and returns the result.\n",(0,i.jsx)(n.code,{children:"schema"})," is a object representing a JSON Schema. You can define it in Jsonnet or read a JSON Schema with ",(0,i.jsx)(n.code,{children:"import"}),".\nValidate returns a error message (string) if something is wrong, or returns ",(0,i.jsx)(n.a,{href:"https://pkg.go.dev/github.com/santhosh-tekuri/jsonschema/v5#Detailed",children:"a detailed error object"})," if ",(0,i.jsx)(n.code,{children:"v"})," violates JSON Schema.\nIf there is no violation, Validate returns ",(0,i.jsx)(n.code,{children:"null"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"urlparse",children:"url.Parse"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/net/url#Parse",children:"https://pkg.go.dev/net/url#Parse"})}),"\n",(0,i.jsxs)(n.p,{children:["This function converts ",(0,i.jsx)(n.a,{href:"https://pkg.go.dev/net/url#URL",children:"*url.URL"})," to an object and returns it."]}),"\n",(0,i.jsx)(n.p,{children:"e.g."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "Scheme":      "http",\n    "Opaque":      "",\n    "Host":        "example.com",\n    "Path":        "/foo/bar",\n    "RawPath":     "",\n    "OmitHost":    false,\n    "ForceQuery":  false,\n    "RawQuery":    "lang=en&tag=go",\n    "Fragment":    "top",\n    "RawFragment": "",\n    "Query": {\n      "lang": ["en"],\n      "tag": ["go"],\n    },\n  },\n  null\n]\n'})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>h});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function h(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);