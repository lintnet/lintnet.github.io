"use strict";(self.webpackChunklintnet=self.webpackChunklintnet||[]).push([[261],{6446:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var s=n(5893),i=n(1151);const r={sidebar_position:400},o="Test lint rules",l={id:"test-rule",title:"Test lint rules",description:"To test lint file x.jsonnet, you need to create a test file x_test.jsonnet on the same directory with x.jsonnet.",source:"@site/docs/test-rule.md",sourceDirName:".",slug:"/test-rule",permalink:"/docs/test-rule",draft:!1,unlisted:!1,editUrl:"https://github.com/lintnet/lintnet.github.io/edit/main/docs/test-rule.md",tags:[],version:"current",sidebarPosition:400,frontMatter:{sidebar_position:400},sidebar:"tutorialSidebar",previous:{title:"Configuration file",permalink:"/docs/config-file"},next:{title:"Module",permalink:"/docs/module"}},a={},c=[];function d(e){const t={code:"code",h1:"h1",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"test-lint-rules",children:"Test lint rules"}),"\n",(0,s.jsxs)(t.p,{children:["To test lint file ",(0,s.jsx)(t.code,{children:"x.jsonnet"}),", you need to create a test file ",(0,s.jsx)(t.code,{children:"x_test.jsonnet"})," on the same directory with ",(0,s.jsx)(t.code,{children:"x.jsonnet"}),".\n",(0,s.jsx)(t.code,{children:"x_test.jsonnet"})," must return the list of test data and expected results."]}),"\n",(0,s.jsx)(t.p,{children:"e.g."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsonnet",children:"function(param) [\n  {\n    name: 'Test name',\n    param: { // param passed to the lint file\n      data: {\n        file_type: 'csv',\n        value: [\n          ['mike', '1'],\n        ],\n      },\n    },\n    result: [ // expected return value of the lint file\n      {\n        message: 'age must be greater or equal than 18',\n        failed: true,\n        level: 'error',\n        location: {\n          index: 0,\n          line: 'mike,1',\n        },\n      },\n    ],\n  }\n]\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Then please run ",(0,s.jsx)(t.code,{children:"lintnet test"})," command."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"lintnet test\n"})})]})}function u(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>l,a:()=>o});var s=n(7294);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);